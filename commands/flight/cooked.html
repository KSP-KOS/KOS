

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cooked Control &mdash; kOS 0.15.3 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../../about.html"/>
    <link rel="top" title="kOS 0.15.3 documentation" href="../../index.html"/>
        <link rel="up" title="Flight Control" href="../flight.html"/>
        <link rel="next" title="Raw Control" href="raw.html"/>
        <link rel="prev" title="Flight Control" href="../flight.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../../index.html" class="fa fa-home"> kOS</a>
        
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Home</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads_links.html">Downloads and Links</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/quickstart.html">Quick Start</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/designpatterns.html">Design Patterns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tutorials/pidloops.html">PID Loops</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../general.html">General</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../bindings.html">Bound Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/cpu_vessel.html">CPU Vessel (SHIP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/cpu_hardware.html">CPU Hardware</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/applauncher_panel.html">Launcher Panel</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/telnet.html">Telnet Server</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/volumes.html">Files &amp; Volumes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/compiling.html">Machine Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/nametag.html">Name Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/parts_and_partmodules.html">Parts &amp; PartModules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/comm_range.html">Communication Range</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../general/career_limits.html">Respecting Career Limits</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../language.html">Language</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../language/features.html">General Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language/syntax.html">Language Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language/flow.html">Flow Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language/variables.html">Variables &amp; Statements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../language/variables.html#scoping-rules">Scoping rules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../math.html">Mathematics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../math/basic.html">Fundamental Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/basic.html#mathematical-functions">Mathematical Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/vector.html">Vectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/direction.html">Directions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/geocoordinates.html">Geographic Coordinates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../math/ref_frame.html">Reference Frames</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../commands.html">Commands</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../flight.html">Flight Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="../prediction.html">Prediction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../list.html">Listing Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parts.html">Parts Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../files.html">File I/O</a></li>
<li class="toctree-l2"><a class="reference internal" href="../terminalgui.html">Terminal and GUI</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../structures.html">Structures</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../structures/orbits.html">Orbits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../structures/celestial_bodies.html">Celestial Bodies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../structures/vessels.html">Vessels &amp; Parts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../structures/waypoint.html">Waypoints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../structures/misc.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../addons.html">Addons</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../addons/AGX.html">Action Groups Extended</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../addons/RemoteTech.html">RemoteTech</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contribute</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">kOS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../commands.html">Command Reference</a> &raquo;</li>
      
          <li><a href="../flight.html">Flight Control</a> &raquo;</li>
      
    <li>Cooked Control</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/commands/flight/cooked.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="cooked-control">
<span id="cooked"></span><h1>Cooked Control<a class="headerlink" href="#cooked-control" title="Permalink to this headline">¶</a></h1>
<p>In this style of controlling the craft, you do not steer the craft directly, but instead select a goal direction and let kOS pick the way to steer toward that goal. This method of controlling the craft consists primarily of the following two commands:</p>
<span class="target" id="lock-throttle"></span><dl class="object">
<dt>
<tt class="descname">LOCK THROTTLE TO value.</tt></dt>
<dd><p>This sets the main throttle of the ship to <em>value</em>. Where <em>value</em> is a floating point number between 0.0 and 1.0. A value of 0.0 means the throttle is idle, and a value of 1.0 means the throttle is at maximum. A value of 0.5 means the throttle is at the halfway point, and so on.</p>
</dd></dl>

<span class="target" id="lock-steering"></span><dl class="object">
<dt>
<tt class="descname">LOCK STEERING TO value.</tt></dt>
<dd><p>This sets the direction <strong>kOS</strong> should point the ship where <em>value</em> is a <a class="reference internal" href="../../math/vector.html#structure:VECTOR" title="VECTOR structure"><tt class="xref ks ks-struct docutils literal"><span class="pre">Vector</span></tt></a> or a <a class="reference internal" href="../../math/direction.html#direction"><em>Direction</em></a> created from a <a class="reference internal" href="../../math/direction.html#rotation"><em>Rotation</em></a> or <a class="reference internal" href="../../math/direction.html#heading"><em>Heading</em></a>:</p>
<blockquote>
<div><p><a class="reference internal" href="../../math/direction.html#rotation"><em>Rotation</em></a></p>
<blockquote>
<div><p>A Rotation expressed as <tt class="docutils literal"><span class="pre">R(pitch,yaw,roll)</span></tt>. Note that pitch, yaw and roll are not based on the horizon, but based on an internal coordinate system used by <strong>KSP</strong> that is hard to use. Thankfully, you can force the rotation into a sensible frame of reference by adding a rotation to a known direction first.</p>
<p>To select a direction that is 20 degrees off from straight up:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">Up</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">).</span>
</pre></div>
</div>
<p>To select a direction that is due east, aimed at the horizon:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">North</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="p">).</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">UP</span></tt> and <tt class="docutils literal"><span class="pre">NORTH</span></tt> are the only two predefined rotations.</p>
</div></blockquote>
<p><a class="reference internal" href="../../math/direction.html#heading"><em>Heading</em></a></p>
<blockquote>
<div><p>A heading expressed as <tt class="docutils literal"><span class="pre">HEADING(compass,</span> <span class="pre">pitch)</span></tt>. This will aim 30 degrees above the horizon, due south:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">HEADING</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">30</span><span class="p">).</span>
</pre></div>
</div>
</div></blockquote>
<p><a class="reference internal" href="../../math/vector.html#structure:VECTOR" title="VECTOR structure"><tt class="xref ks ks-struct docutils literal"><span class="pre">Vector</span></tt></a></p>
<blockquote>
<div><p>Any vector can also be used to lock steering:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">V</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">).</span>
</pre></div>
</div>
<p>Note that the internal coordinate system for <tt class="docutils literal"><span class="pre">(X,Y,Z)</span></tt> is quite complex to explain. To aim in the opposite of the surface velocity direction:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">SHIP</span><span class="o">:</span><span class="n">VELOCITY</span><span class="o">:</span><span class="n">SURFACE</span><span class="p">.</span>
</pre></div>
</div>
<p>The following aims at a vector which is the cross product of velocity and direction down to the SOI planet - in other words, it aims at the &#8220;normal&#8221; direction to the orbit:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">VCRS</span><span class="p">(</span><span class="n">SHIP</span><span class="o">:</span><span class="n">VELOCITY</span><span class="o">:</span><span class="n">ORBIT</span><span class="p">,</span> <span class="n">BODY</span><span class="o">:</span><span class="n">POSITION</span><span class="p">).</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</dd></dl>

<p>Like all <tt class="docutils literal"><span class="pre">LOCK</span></tt> expressions, the steering and throttle continually update on their own when using this style of control. If you lock your steering to velocity, then as your velocity changes, your steering will change to match it. Unlike with other <tt class="docutils literal"><span class="pre">LOCK</span></tt> expressions, the steering and throttle are special in that the lock expression gets executed automatically all the time in the background, while other <tt class="docutils literal"><span class="pre">LOCK</span></tt> expressions only get executed when you try to read the value of the variable. The reason is that the <strong>kOS</strong> computer is constantly querying the lock expression multiple times per second as it adjusts the steering and throttle in the background.</p>
<div class="section" id="unlocking-controls">
<h2>Unlocking controls<a class="headerlink" href="#unlocking-controls" title="Permalink to this headline">¶</a></h2>
<p>If you <tt class="docutils literal"><span class="pre">LOCK</span></tt> the <tt class="docutils literal"><span class="pre">THROTTLE</span></tt> or <tt class="docutils literal"><span class="pre">STEERING</span></tt>, be aware that this prevents the user from manually controlling them. Until they unlock, the manual controls are prevented from working. You can free up the controls by issuing these two commands:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">UNLOCK</span> <span class="n">STEERING</span><span class="p">.</span>
<span class="n">UNLOCK</span> <span class="n">THROTTLE</span><span class="p">.</span>
</pre></div>
</div>
<p>When the program ends, these automatically unlock as well, which means that to control a craft you must make sure the program doesn&#8217;t end. The moment it ends it lets go of the controls.</p>
</div>
<div class="section" id="advantages-disadvantages">
<h2>Advantages/Disadvantages<a class="headerlink" href="#advantages-disadvantages" title="Permalink to this headline">¶</a></h2>
<p>The advantge of &#8220;Cooked&#8221; control is that it is simpler to write scripts for, but the disadvantage is that you have no control over the details of the motion. You can&#8217;t dictate how fast or slow the craft rotates, or which axis it tries to rotate around first, and if your craft is wobbly, you can&#8217;t dampen the wobbliness.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="raw.html" class="btn btn-neutral float-right" title="Raw Control">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../flight.html" class="btn btn-neutral" title="Flight Control"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Dunbaratu, erendrake, Originally By Nivekk.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.15.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>