<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Cooked Control &mdash; kOS 0.15.3 documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.15.3',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="top" title="kOS 0.15.3 documentation" href="../../index.html" />
    <link rel="up" title="Flight Control" href="../flight.html" />
    <link rel="next" title="Raw Control" href="raw.html" />
    <link rel="prev" title="Flight Control" href="../flight.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="raw.html" title="Raw Control"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../flight.html" title="Flight Control"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">kOS 0.15.3 documentation</a> &raquo;</li>
          <li><a href="../../commands.html" >Command Reference</a> &raquo;</li>
          <li><a href="../flight.html" accesskey="U">Flight Control</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="cooked-control">
<h1>Cooked Control<a class="headerlink" href="#cooked-control" title="Permalink to this headline">¶</a></h1>
<p>In this style of controlling the craft, you do not steer the craft directly, but instead select a goal direction and let kOS pick the way to steer toward that goal. This method of controlling the craft consists primarily of the following two commands:</p>
<span class="target" id="lock-throttle"></span><dl class="object">
<dt>
<tt class="descname">LOCK THROTTLE TO value.</tt></dt>
<dd><p>This sets the main throttle of the ship to <em>value</em>. Where <em>value</em> is a floating point number between 0.0 and 1.0. A value of 0.0 means the throttle is idle, and a value of 1.0 means the throttle is at maximum. A value of 0.5 means the throttle is at the halfway point, and so on.</p>
</dd></dl>

<span class="target" id="lock-steering"></span><dl class="object">
<dt>
<tt class="descname">LOCK STEERING TO value.</tt></dt>
<dd><p>This sets the direction <strong>kOS</strong> should point the ship where <em>value</em> is a <em class="xref std std-ref">Vector</em> or a <a class="reference internal" href="../../math/direction.html#direction"><em>Direction</em></a> created from a <em class="xref std std-ref">Rotation</em> or <em class="xref std std-ref">Heading</em>:</p>
<blockquote>
<div><p><em class="xref std std-ref">Rotation</em></p>
<blockquote>
<div><p>A Rotation expressed as <tt class="docutils literal"><span class="pre">R(pitch,yaw,roll)</span></tt>. Note that pitch, yaw and roll are not based on the horizon, but based on an internal coordinate system used by <strong>KSP</strong> that is hard to use. Thankfully, you can force the rotation into a sensible frame of reference by adding a rotation to a known direction first.</p>
<p>To select a direction that is 20 degrees off from straight up:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">Up</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">).</span>
</pre></div>
</div>
<p>To select a direction that is due east, aimed at the horizon:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">North</span> <span class="o">+</span> <span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">90</span><span class="p">,</span><span class="mi">0</span><span class="p">).</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">UP</span></tt> and <tt class="docutils literal"><span class="pre">NORTH</span></tt> are the only two predefined rotations.</p>
</div></blockquote>
<p><em class="xref std std-ref">Heading</em></p>
<blockquote>
<div><p>A heading expressed as <tt class="docutils literal"><span class="pre">HEADING(compass,</span> <span class="pre">pitch)</span></tt>. This will aim 30 degrees above the horizon, due south:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">HEADING</span><span class="p">(</span><span class="mi">180</span><span class="p">,</span> <span class="mi">30</span><span class="p">).</span>
</pre></div>
</div>
</div></blockquote>
<p><em class="xref std std-ref">Vector</em></p>
<blockquote>
<div><p>Any vector can also be used to lock steering:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">V</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">10</span><span class="p">).</span>
</pre></div>
</div>
<p>Note that the internal coordinate system for <tt class="docutils literal"><span class="pre">(X,Y,Z)</span></tt> is quite complex to explain. To aim in the opposite of the surface velocity direction:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">SHIP</span><span class="o">:</span><span class="n">VELOCITY</span><span class="o">:</span><span class="n">SURFACE</span><span class="p">.</span>
</pre></div>
</div>
<p>The following aims at a vector which is the cross product of velocity and direction down to the SOI planet - in other words, it aims at the &#8220;normal&#8221; direction to the orbit:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">LOCK</span> <span class="n">STEERING</span> <span class="n">TO</span> <span class="n">VCRS</span><span class="p">(</span><span class="n">SHIP</span><span class="o">:</span><span class="n">VELOCITY</span><span class="o">:</span><span class="n">ORBIT</span><span class="p">,</span> <span class="n">BODY</span><span class="o">:</span><span class="n">POSITION</span><span class="p">).</span>
</pre></div>
</div>
</div></blockquote>
</div></blockquote>
</dd></dl>

<p>Like all <tt class="docutils literal"><span class="pre">LOCK</span></tt> expressions, the steering and throttle continually update on their own when using this style of control. If you lock your steering to velocity, then as your velocity changes, your steering will change to match it. Unlike with other <tt class="docutils literal"><span class="pre">LOCK</span></tt> expressions, the steering and throttle are special in that the lock expression gets executed automatically all the time in the background, while other <tt class="docutils literal"><span class="pre">LOCK</span></tt> expressions only get executed when you try to read the value of the variable. The reason is that the <strong>kOS</strong> computer is constantly querying the lock expression multiple times per second as it adjusts the steering and throttle in the background.</p>
<div class="section" id="unlocking-controls">
<h2>Unlocking controls<a class="headerlink" href="#unlocking-controls" title="Permalink to this headline">¶</a></h2>
<p>If you <tt class="docutils literal"><span class="pre">LOCK</span></tt> the <tt class="docutils literal"><span class="pre">THROTTLE</span></tt> or <tt class="docutils literal"><span class="pre">STEERING</span></tt>, be aware that this prevents the user from manually controlling them. Until they unlock, the manual controls are prevented from working. You can free up the controls by issuing these two commands:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">UNLOCK</span> <span class="n">STEERING</span><span class="p">.</span>
<span class="n">UNLOCK</span> <span class="n">THROTTLE</span><span class="p">.</span>
</pre></div>
</div>
<p>When the program ends, these automatically unlock as well, which means that to control a craft you must make sure the program doesn&#8217;t end. The moment it ends it lets go of the controls.</p>
</div>
<div class="section" id="advantages-disadvantages">
<h2>Advantages/Disadvantages<a class="headerlink" href="#advantages-disadvantages" title="Permalink to this headline">¶</a></h2>
<p>The advantge of &#8220;Cooked&#8221; control is that it is simpler to write scripts for, but the disadvantage is that you have no control over the details of the motion. You can&#8217;t dictate how fast or slow the craft rotates, or which axis it tries to rotate around first, and if your craft is wobbly, you can&#8217;t dampen the wobbliness.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Cooked Control</a><ul>
<li><a class="reference internal" href="#unlocking-controls">Unlocking controls</a></li>
<li><a class="reference internal" href="#advantages-disadvantages">Advantages/Disadvantages</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../flight.html"
                        title="previous chapter">Flight Control</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="raw.html"
                        title="next chapter">Raw Control</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../_sources/commands/flight/cooked.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="raw.html" title="Raw Control"
             >next</a> |</li>
        <li class="right" >
          <a href="../flight.html" title="Flight Control"
             >previous</a> |</li>
        <li><a href="../../index.html">kOS 0.15.3 documentation</a> &raquo;</li>
          <li><a href="../../commands.html" >Command Reference</a> &raquo;</li>
          <li><a href="../flight.html" >Flight Control</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Dunbaratu, erendrake, Originally By Nivekk.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>